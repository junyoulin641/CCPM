---
name: Stress test - 60-second continuous streaming
status: open
created: 2025-12-24T03:41:21Z
updated: 2025-12-24T03:41:21Z
github: https://github.com/junyoulin641/CCPM/issues/34
depends_on: [22, 32, 33]
parallel: false
conflicts_with: []
---

# Task: Stress test - 60-second continuous streaming

## Description
Perform a 60-second continuous data streaming stress test using the stream_logger Arduino sketch. Verify the UARTWidget can handle sustained high-frequency data input without errors, UI freezing, memory leaks, or data loss. Monitor system resources (CPU, memory) during the test. This validates the robustness and production-readiness of the widget.

## Acceptance Criteria
- [ ] 60-second test completed without errors
- [ ] All messages received (no counter gaps indicating data loss)
- [ ] UI remains responsive throughout test (can scroll, interact)
- [ ] No memory growth observed (stable memory footprint)
- [ ] CPU usage remains reasonable (<20% on modern hardware)
- [ ] No buffer overflows or crashes
- [ ] Application can be cleanly disconnected after test
- [ ] Test repeated 3 times with consistent results

## Technical Details
**Test procedure:**
1. Upload stream_logger.ino to Arduino (100ms interval)
2. Connect UARTWidget at 115200 baud
3. Start system monitoring (Task Manager, htop, Activity Monitor)
4. Record baseline memory and CPU usage
5. Let stream run for exactly 60 seconds
6. Record final memory and CPU usage
7. Verify first and last counter values (should differ by ~600)
8. Check for any gaps in counter sequence
9. Disconnect cleanly
10. Repeat test 3 times

**Expected results:**
- Messages received: ~600 (10/sec Ã— 60sec)
- Memory growth: <10 MB
- CPU usage: <20% average
- UI responsiveness: No lag in scrolling or interaction

**Key considerations:**
- RX buffer size may need tuning if deque grows too large
- QTextEdit scrolling may slow down with many lines
- Consider implementing auto-scroll-to-bottom optimization
- May need to limit displayed history (e.g., keep last 1000 lines)

**Code locations/files affected:**
- Testing only (may reveal optimization needs)
- Document performance metrics

## Dependencies
- [ ] Task 22: Basic functionality testing complete
- [ ] Task 32: stream_logger.ino sketch complete
- [ ] Task 33: Manual hardware testing complete

## Effort Estimate
- Size: S
- Hours: 1 hour
- Parallel: false (depends on 22, 32, 33)

## Definition of Done
- [ ] 60-second test executed successfully
- [ ] No data loss verified (counter sequence complete)
- [ ] UI responsiveness confirmed
- [ ] Memory usage stable (<10 MB growth)
- [ ] CPU usage acceptable (<20%)
- [ ] Test repeated 3 times with consistent results
- [ ] Performance metrics documented
- [ ] Any optimization needs identified and filed
