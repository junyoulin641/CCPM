---
name: Create echo_uart.ino example sketch
status: open
created: 2025-12-24T03:41:21Z
updated: 2025-12-24T03:41:21Z
github: https://github.com/junyoulin641/CCPM/issues/30
depends_on: [12]
parallel: true
conflicts_with: []
---

# Task: Create echo_uart.ino example sketch

## Description
Create an Arduino sketch that echoes back all received data over UART. This simple sketch reads incoming serial data and immediately writes it back, allowing verification of bidirectional TX/RX functionality. This is essential for testing the UARTWidget's send and receive capabilities with real hardware.

## Acceptance Criteria
- [ ] File `echo_uart.ino` created in examples/arduino/ directory
- [ ] Sketch initializes Serial at 115200 baud (configurable)
- [ ] Sketch reads incoming bytes using Serial.read()
- [ ] Sketch echoes each byte back using Serial.write()
- [ ] Sketch includes comments explaining behavior
- [ ] Sketch compiles without errors for Arduino Uno/Nano
- [ ] Sketch tested on actual Arduino hardware

## Technical Details
**Implementation approach:**
```cpp
// echo_uart.ino - Echo back all received UART data

void setup() {
  Serial.begin(115200);  // Match default baud rate
  while (!Serial) {
    ; // Wait for serial port to connect (needed for native USB)
  }
}

void loop() {
  if (Serial.available() > 0) {
    int incomingByte = Serial.read();
    Serial.write(incomingByte);  // Echo back
  }
}
```

**Key considerations:**
- Keep code simple and well-commented
- Support both 5V Arduino and 3.3V boards
- Match default baud rate used in UARTWidget (115200)
- Handle USB-serial initialization delay

**Code locations/files affected:**
- New file: `simple-python-ui/examples/arduino/echo_uart.ino`

## Dependencies
- [ ] Task 12: Define physical test hardware requirements complete

## Effort Estimate
- Size: XS
- Hours: 0.5 hours
- Parallel: true (can run independently)

## Definition of Done
- [ ] Sketch file created
- [ ] Code compiles successfully
- [ ] Uploaded to Arduino hardware
- [ ] Echo functionality verified (send "Hello" â†’ receive "Hello")
- [ ] Documented in examples README
