---
name: Implement auto-scroll functionality
status: open
created: 2025-12-24T03:41:21Z
updated: 2025-12-24T03:41:21Z
github: https://github.com/junyoulin641/CCPM/issues/24
depends_on: [14]
parallel: false
conflicts_with: []
---

# Task: Implement auto-scroll functionality

## Description
Implement auto-scroll logic in the RX text display that automatically scrolls to the bottom when new data arrives, controlled by a checkbox. This improves user experience by keeping the latest messages visible, while allowing users to disable auto-scroll when reviewing older messages.

## Acceptance Criteria
- [ ] Auto-scroll checkbox added to control area (Task 16 checkbox)
- [ ] Auto-scroll enabled by default (checkbox checked on startup)
- [ ] When enabled, text display scrolls to bottom on new data
- [ ] When disabled, scroll position remains unchanged on new data
- [ ] Scrolling uses QTextEdit scrollbar control
- [ ] Smooth scrolling behavior (no flicker)

## Technical Details
**Implementation approach:**
- Use the auto-scroll checkbox from Task 16
- In `display_message()` method, check checkbox state:
  ```python
  def display_message(self, data: str):
      self.rx_display.append(data)  # Add text

      # Auto-scroll if enabled
      if self.autoscroll_checkbox.isChecked():
          scrollbar = self.rx_display.verticalScrollBar()
          scrollbar.setValue(scrollbar.maximum())
  ```
- Access QTextEdit's vertical scrollbar and set to maximum value
- Check auto-scroll checkbox state before scrolling

**Key considerations:**
- Default state: checked (most users want auto-scroll)
- Performance: minimal overhead (simple boolean check)
- User control: can disable to review history without interruption
- Smooth behavior: Qt handles scroll animation automatically
- No text loss: append() adds text regardless of scroll state

**Code locations/files affected:**
- `uart_widget.py` - UARTWidget.display_message() method
- `uart_widget.py` - Reference to autoscroll_checkbox (from Task 16)

## Dependencies
- [ ] Task 14 completed (RX text display implemented)
- [ ] Task 16 completed (auto-scroll checkbox added)

## Effort Estimate
- Size: XS
- Hours: 0.5 hours
- Parallel: false (depends on task 14)

## Definition of Done
- [ ] Code implemented
- [ ] Auto-scroll works when checkbox enabled
- [ ] Scroll position unchanged when checkbox disabled
- [ ] Default state is enabled (checked)
- [ ] Smooth scrolling behavior
